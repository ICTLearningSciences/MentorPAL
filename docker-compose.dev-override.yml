version: '3.7'
services:
  web-app:
    environment:
      - MENTOR_VIDEO_URL=http://localhost:8080/videos
  mentor-api:
    environment:
      - MENTOR_VIDEO_URL=http://localhost:8080
    volumes:
      - type: bind
        source: ./checkpoint
        target: /app/checkpoint
      - type: bind
        source: ./mentors/data/mentors
        target: /app/mentors
    expose:
      - "5000"
  nginx:
    volumes:
      - type: bind
        source: ./mentors/videos
        target: /etc/nginx/html/videos
      - type: bind
        source: ./nginx-local/conf.d
        target: /etc/nginx/conf.d
